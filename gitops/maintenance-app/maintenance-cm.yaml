apiVersion: v1
data:
  maintenance.html: |-
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Tapsi Shop Maintenance Page</title>
        <style>
            body {
                display: flex;
                justify-content: center;
                align-items: center;
                height: 100vh;
                margin: 0;
                background-color: #fff;
                font-family: Arial, sans-serif;
            }
    
            .container {
                text-align: center;
            }
    
            .logo {
                width: 500px;
                height: 200px;
            }
    
            .logo path {
                stroke: #000;
                stroke-width: 2;
                fill: none;
                animation: draw 5s linear infinite;
            }
    
            .logo rect {
                stroke: #fe5722;
                stroke-width: 2;
                fill: none;
                animation: draw 5s linear infinite;
            }
    
            @keyframes draw {
                to {
                    stroke-dashoffset: 0;
                }
            }
    
            .logo path, .logo rect {
                stroke-dasharray: 1000;
                stroke-dashoffset: 1000;
            }
    
            .pulse {
                animation: pulse 1.5s infinite ease-in-out;
            }
    
            @keyframes pulse {
                0% {
                    transform: scale(1);
                    opacity: 1;
                }
                50% {
                    transform: scale(1.1);
                    opacity: 0.8;
                }
                100% {
                    transform: scale(1);
                    opacity: 1;
                }
            }
        </style>
    </head>
    <body>
        <div class="container">
            <svg class="logo" viewBox="0 0 1289.58 312.79" xmlns="http://www.w3.org/2000/svg">
                <rect class="uuid-2ef2ad26-7679-491a-a1bf-a2454e05210b" x="172.53" y="104.8" width="103.62" height="34.54"/>
                <rect class="uuid-2ef2ad26-7679-491a-a1bf-a2454e05210b" x="103.46" y="173.88" width="172.69" height="34.54"/>
                <path d="M429.78,104.99v16.67h-31.78v86.62h-21.21V121.67h-31.29v-16.67h84.28Z"/>
                <path d="M503.95,208.29l-7.16-21.78h-37.1l-7.16,21.78h-22.63l38.38-103.29h19.79l38.59,103.29h-22.7Zm-38.81-38.45h26.18l-13.12-39.8-13.05,39.8Z"/>
                <path d="M584.29,171.47h-18.94v36.82h-21.28V104.99h40.22c8.13,0,15.09,1.47,20.86,4.4,5.77,2.93,10.19,6.95,13.27,12.06,3.07,5.11,4.61,10.93,4.61,17.45,0,9.98-3.42,17.9-10.25,23.77-6.83,5.86-16.33,8.8-28.48,8.8Zm0-49.8h-18.94v33.2h18.94c6.1,0,10.51-1.49,13.23-4.47,2.72-2.98,4.08-6.76,4.08-11.35s-1.36-8.63-4.08-12.13c-2.72-3.5-7.13-5.25-13.23-5.25Z"/>
                <path d="M695.32,181.26c0-2.51-.52-4.67-1.56-6.49-1.04-1.82-3.02-3.53-5.92-5.14-2.91-1.61-7.18-3.29-12.81-5.04-6.29-2.03-12.06-4.42-17.31-7.17-5.25-2.74-9.45-6.14-12.59-10.18-3.15-4.04-4.72-9.02-4.72-14.93s1.64-10.74,4.93-15.04c3.29-4.3,7.8-7.66,13.55-10.07,5.75-2.41,12.33-3.62,19.76-3.62s14.26,1.37,19.93,4.11c5.68,2.74,10.08,6.5,13.23,11.28,3.14,4.78,4.72,10.24,4.72,16.39h-21.14c0-4.49-1.41-8.19-4.22-11.1-2.81-2.91-7.11-4.36-12.88-4.36s-9.74,1.21-12.49,3.62-4.11,5.37-4.11,8.87,1.75,6.36,5.25,8.73c3.5,2.37,8.61,4.59,15.32,6.67,11.21,3.41,19.73,7.7,25.57,12.88,5.84,5.18,8.76,12,8.76,20.47,0,8.99-3.42,16-10.25,21.03-6.83,5.04-15.9,7.56-27.21,7.56-5.11,0-10.16-.67-15.15-2.02-4.99-1.35-9.5-3.41-13.51-6.17-4.02-2.77-7.24-6.27-9.65-10.5-2.41-4.23-3.62-9.26-3.62-15.08h21.35c0,6.38,1.9,10.9,5.71,13.55,3.81,2.65,8.76,3.97,14.86,3.97,5.49,0,9.55-1.16,12.2-3.48,2.65-2.32,3.97-5.23,3.97-8.73Z"/>
                <path d="M755.08,104.99v103.29h-21.21V104.99h21.21Z"/>
                <path d="M861.62,181.26c0-2.51-.52-4.67-1.56-6.49-1.04-1.82-3.02-3.53-5.92-5.14-2.91-1.61-7.18-3.29-12.81-5.04-6.29-2.03-12.06-4.42-17.31-7.17-5.25-2.74-9.45-6.14-12.59-10.18-3.15-4.04-4.72-9.02-4.72-14.93s1.64-10.74,4.93-15.04c3.29-4.3,7.8-7.66,13.55-10.07,5.75-2.41,12.33-3.62,19.76-3.62s14.26,1.37,19.93,4.11c5.68,2.74,10.08,6.5,13.23,11.28,3.14,4.78,4.72,10.24,4.72,16.39h-21.14c0-4.49-1.41-8.19-4.22-11.1-2.81-2.91-7.11-4.36-12.88-4.36s-9.74,1.21-12.49,3.62c-2.74,2.41-4.11,5.37-4.11,8.87s1.75,6.36,5.25,8.73c3.5,2.37,8.61,4.59,15.32,6.67,11.21,3.41,19.73,7.7,25.57,12.88,5.84,5.18,8.76,12,8.76,20.47,0,8.99-3.42,16-10.25,21.03-6.83,5.04-15.9,7.56-27.21,7.56-5.11,0-10.16-.67-15.15-2.02-4.99-1.35-9.5-3.41-13.51-6.17-4.02-2.77-7.24-6.27-9.65-10.5-2.41-4.23-3.62-9.26-3.62-15.08h21.35c0,6.38,1.9,10.9,5.71,13.55,3.81,2.65,8.76,3.97,14.86,3.97,5.49,0,9.55-1.16,12.2-3.48,2.65-2.32,3.97-5.23,3.97-8.73Z"/>
                <path d="M921.54,104.99v42.07h41.57v-42.07h21.21v103.29h-21.21v-44.62h-41.57v44.62h-21.28V104.99h21.28Z"/>
                <path d="M1089.56,154.23v4.9c0,10.45-1.86,19.46-5.57,27.03-3.71,7.57-8.86,13.38-15.43,17.45-6.57,4.07-14.21,6.1-22.91,6.1s-16.23-2.03-22.88-6.1c-6.64-4.07-11.84-9.88-15.57-17.45-3.74-7.57-5.6-16.58-5.6-27.03v-4.9c0-10.5,1.86-19.53,5.57-27.1,3.71-7.57,8.88-13.38,15.5-17.45,6.62-4.07,14.24-6.1,22.84-6.1s16.35,2.03,22.95,6.1c6.6,4.07,11.76,9.89,15.5,17.45,3.74,7.57,5.6,16.6,5.6,27.1Zm-21.5,4.9v-5.04c0-10.88-1.96-19.19-5.89-24.94-3.93-5.75-9.48-8.62-16.67-8.62s-12.72,2.87-16.6,8.62c-3.88,5.75-5.82,14.06-5.82,24.94v5.04c0,10.83,1.96,19.15,5.89,24.97,3.93,5.82,9.48,8.73,16.67,8.73s12.72-2.91,16.6-8.73c3.88-5.82,5.82-14.14,5.82-24.97Z"/>
                <path d="M1147.06,171.47h-18.94v36.82h-21.28V104.99h40.22c8.13,0,15.09,1.47,20.86,4.4,5.77,2.93,10.19,6.95,13.27,12.06,3.07,5.11,4.61,10.93,4.61,17.45,0,9.98-3.42,17.9-10.25,23.77-6.83,5.86-16.33,8.8-28.48,8.8Zm0-49.8h-18.94v33.2h18.94c6.1,0,10.51-1.49,13.23-4.47,2.72-2.98,4.08-6.76,4.08-11.35s-1.36-8.63-4.08-12.13c-2.72-3.5-7.13-5.25-13.23-5.25Z"/>
            </svg>
            <div class="message pulse">We will back soon!</div>
        </div>
    </body>
    </html>
  default.conf: |-
    # NGINX CONFIGURATION GOES HERE
    server {
      listen 80 default_server;
      server_name  _ ;
      location / {
        if (-f /usr/share/nginx/html/maintenance/maintenance.html) {
          return 503;
        }
      }

      # for all routes, return maintenance page
      error_page 503 @maintenance;
      location @maintenance {
        root    /usr/share/nginx/html/maintenance/;
        rewrite ^(.*)$ /maintenance.html break;
      }
      # allow images and css to be retrieved
      location ~* \.(png|jpg|jpeg|css) {
        root /usr/share/nginx/html/maintenance/;
      }
    }

kind: ConfigMap
metadata:
  name: maintenance-image
  namespace: develop